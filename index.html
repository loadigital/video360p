<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="shortcut icon" href="img/icono.png" type="image/x-icon">
    <meta name="theme-color" content="#242424">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>360p</title>
    <link rel="stylesheet" href="https://loadigital.github.io/movies.biloa/icon/bootstrap-icons.css">
    <link rel="stylesheet" href="css/libreria-1-0-1.css">
    <link rel="stylesheet" href="css/style.css">
    <script src="js/api.js"></script>
    <script src="https://loadigital.github.io/movies.biloa/js/jquery.js"></script>
   <meta name="6a97888e-site-verification" content="cf2faa0668883aa5d668a0fa37245afa">
    <meta name='admaven-placement' content=BqdgGqjCH>

</head>
<body>
 <script async type="application/javascript" src="https://a.pemsrv.com/ad-provider.js"></script> 
 <ins class="eas6a97888e33" data-zoneid="5537944"></ins> 
 <script>(AdProvider = window.AdProvider || []).push({"serve": {}});</script>
    
<div id="loading"></div>
<div id="include-header"></div>
<main id="main--">
    <div class="col-12 flexrow-c" id="main-carrusel"><script src="src/include/carrusel.js"></script></div>
    
    <section class="peliculas-online col-12 flexrow-c">
    
        <div class="contenedor-cards-main col-12 flexrow-c">
            
    
            <div class="col-12">
                <div class="text-t col-3 flexrow-de"><h1>Películas Online</h1></div>
                <div class="menu-page col-8 flexrow-de">
                    <p class="active-" data-target="#ultimas">ÚLTIMAS</p>
                    <p data-target="#tendencias">PUNTUACIÓN MAS ALTA</p>
                    <p data-target="#estrenos">ESTRENOS 2025</p>
                </div>
            </div>
            
            <!--anuncio-->
           <div class="main-anuncio col-12 flexrow-c">
           <div class="anuncio">
                <script async type="application/javascript" src="https://a.magsrv.com/ad-provider.js"></script> 
                <ins class="eas6a97888e10" data-zoneid="5537984"></ins> 
                <script>(AdProvider = window.AdProvider || []).push({"serve": {}});</script>
            </div>
           </div>
        
                <div class="active" data-content id="ultimas">
                    <div class="co-cardss grid-1" id="co-cardss"></div>
                </div>
        
                <div data-content id="tendencias">
                    <div class="co-cardss grid-1" id="co-cardss-tendencias"></div>
                </div>
        
                <div data-content id="estrenos">
                    <div class="co-cardss grid-1" id="co-cardss-estrenos"></div>
                </div>
        
        
                <div class="bo-vermas col-12 flexrow-c">
                    <a class="bot-1 flexrow-c" href="https://biloa.store/peliculas"><i class="bi-cone-striped"></i> Cargar mas películas</a>
                </div>
    
                
        </div>
    </section>
    
<!--anuncio-->
    <div class="main-anuncio col-12 flexrow-c" >
       <div class="anuncio">
        
       </div>
    </div>
    
    <section class="series-online col-12 flexrow-c">
        
        <div class="contenedor-cards-main col-12 flexrow-c">
            
    
            <div class="col-12">
                <div class="text-t col-3 flexrow-de"><h1>Series Online</h1></div>
                <div class="menu-page- col-8 flexrow-de">
                    <p class="active--">ÚLTIMAS</p>
                </div>
            </div>
                <div>
                    <div class="co-cardss grid-1" id="co-cardss-series"></div>
                    
                </div>
        
                <div class="bo-vermas col-12 flexrow-c">
                    <a class="bot-1 flexrow-c" href="https://biloa.store/series"><i class="bi-tv"></i>Cargar mas series</a>
                </div>
    
            
        </div>
       
    </section>
<!--anuncio-->
    <div class="main-anuncio col-12 flexrow-c">
       <div class="anuncio">
        
       </div>
    </div>
    
    <div class="col-12" id="footer"></div>
    <div id="scalar"></div>
</main>
<script>
    const ultimas = document.getElementById("co-cardss");
    const tendencias = document.getElementById("co-cardss-tendencias");
    const estrenos = document.getElementById("co-cardss-estrenos");
    const ultimasSeries = document.getElementById("co-cardss-series");

    document.addEventListener('DOMContentLoaded', () => {
        fetchData();
    });
    
    const fetchData = async () => {
       try{
           const res = await fetch('https://biloa.store/js/movies.json');
           const data = await res.json();
           pintarIndex(data);
       }catch (error) {
           console.log(error);
       }
    }
    const pintarIndex = data => {
        function pintar(data){
            return [...data].sort(() => (Math.random() > 0.5 ? 1 : -1)).slice(0, 8)
          }
          
        const newArrayNew = data.slice(0, 8);
        newArrayNew.forEach(element => {

            const  API_URL  =  BASE_URL  +  '/movie/' + element.id + '?' + API_KEY + '&language=es-ES';//CODIGO TMBD
            
            getMovie(API_URL);

            function getMovie(url){
            fetch(url).then(res => res.json()).then(data =>{
                 console.log(data)
                 pintar(data);
                });
            };

        function pintar(data){
            
        const card = document.createElement("div");
            
            card.innerHTML += `
            <div class="card">
                <div class="card-img">
                    <a href="${linkMovies + element.id + '&v_id=' + element.video + '&cal=' + element.calidad}"><img class="img-card" src="${IMG_URL + data.poster_path}" alt=""></a>
                </div>
                <div class="card-body">
    
               <div class="title-card"><h1 class="colore">${element.title}</h1></div>
                </div>
            </div> 
            `
            ultimas.appendChild(card)
        
        } 
     
    })
 
    data.forEach(element => {
    if(element.puntuacion >= "7.9"){
    
            const  API_URL_P  =  BASE_URL  +  '/movie/' + element.id + '?' + API_KEY + '&language=es-ES';//CODIGO TMBD
            
            getMoviep(API_URL_P);

            function getMoviep(url){
            fetch(url).then(res => res.json()).then(data =>{
                 console.log(data)
                 pintar(data);
                });
            };

        function pintar(data){
    
    const cardTendencias = document.createElement("div");
    
    cardTendencias.innerHTML += `
    <div class="card">
        <div class="card-img">
            <a href="${linkMovies + element.id + '&v_id=' + element.video + '&cal=' + element.calidad}"><img class="img-card" src="${IMG_URL + data.poster_path}" alt=""></a>
        </div>
        <div class="card-body">
       
        <div class="title-card"><h1 class="colore">${element.title}</h1></div>
        
        </div>
    </div> 
    `
    tendencias.appendChild(cardTendencias)
    }
    }
    })
    
    
    data.forEach(element => {
        if(element.año === "2025"){
    
            const  API_URL_A  =  BASE_URL  +  '/movie/' + element.id + '?' + API_KEY + '&language=es-ES';//CODIGO TMBD
            
            getMoviea(API_URL_A);

            function getMoviea(url){
            fetch(url).then(res => res.json()).then(data =>{
                 console.log(data)
                 pintar(data);
                });
            };

        function pintar(data){
    const cardEstrenos = document.createElement("div");
    
    cardEstrenos.innerHTML += `
    <div class="card">
        <div class="card-img">
            <a href="${linkMovies + element.id + '&v_id=' + element.video + '&cal=' + element.calidad}"><img class="img-card" src="${IMG_URL + data.poster_path}" alt=""></a>
        </div>
        <div class="card-body">
       
        <div class="title-card"><h1 class="colore">${element.title}</h1></div>
        
        </div>
    </div> 
    `
    estrenos.appendChild(cardEstrenos)
    };
    };
    });
    };//end peiculas

    document.addEventListener('DOMContentLoaded', () => {
        fetchSeries();
    });
    
    const fetchSeries = async () => {
       try{
           const res = await fetch('https://biloa.store/js/series.json');
           const data = await res.json();
           pintarSeries(data);
       }catch (error) {
           console.log(error);
       }
    }

    
    const pintarSeries = data => {     
    const newJson = data.slice(0, 8);
    newJson.forEach(element => {
        const cardSeriesUltimas = document.createElement("div");
    
    cardSeriesUltimas.innerHTML += `
    <div class="card">
        <div class="card-img">
            <a href="${linkSeries + element.id + '&v_id=' + element.video + '&id_db=' + element.poster}"><img class="img-card" src="${element.img}" alt=""></a>
        </div>
        <div class="card-body">
       
        <div class="title-card"><h1 class="colore">${element.title}</h1></div>
        
        </div>
    </div> 
    `
    ultimasSeries.appendChild(cardSeriesUltimas)
    })
    }
</script>
    
<script type="module" src="js/main.js"></script>
<script type="module" src="js/libreria-1-0-1.js"></script>



</body>
</html>
